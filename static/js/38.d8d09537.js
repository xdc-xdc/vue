"use strict";(self["webpackChunkmystudy"]=self["webpackChunkmystudy"]||[]).push([[38],{6038:function(t,e,a){a.r(e),a.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"text"},[e("baidumap"),e("el-container",[e("el-aside",{attrs:{width:"200px"}},[t._v("Aside")]),e("el-main",[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updataFn()}}},[t._v("添加数据")]),t.homeList.length>0?e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.homeList,border:""}},[e("el-table-column",{attrs:{type:"selection",width:"55"}}),e("el-table-column",{attrs:{prop:"id",label:"id"}}),e("el-table-column",{attrs:{prop:"title",label:"标题"}}),e("el-table-column",{attrs:{prop:"conten",label:"内容","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"image",label:"链接地址","show-overflow-tooltip":""}}),e("el-table-column",{attrs:{prop:"",label:"编辑/保存",width:"200"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updataFn(a.row)}}},[t._v("编辑")]),e("el-button",{attrs:{type:"danger"},on:{click:function(e){return t.edtiorFn(a.row.id)}}},[t._v("删除")])]}}],null,!1,182701143)})],1):e("el-empty",{attrs:{"image-size":200}}),t.homeList.length>0?e("el-pagination",{staticClass:"pagination",attrs:{background:"",layout:"prev, pager, next",total:100}}):t._e()],1)],1),e("el-dialog",{attrs:{title:"编辑数据",visible:t.dialogVisible,width:"70%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[t._v(" id: "),e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.updataList.id,callback:function(e){t.$set(t.updataList,"id",e)},expression:"updataList.id"}}),t._v(" title: "),e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.updataList.title,callback:function(e){t.$set(t.updataList,"title",e)},expression:"updataList.title"}}),t._v(" conten: "),e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.updataList.conten,callback:function(e){t.$set(t.updataList,"conten",e)},expression:"updataList.conten"}}),t._v(" image: "),e("el-input",{attrs:{placeholder:"请输入内容"},model:{value:t.updataList.image,callback:function(e){t.$set(t.updataList,"image",e)},expression:"updataList.image"}}),e("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){return t.closeDialog()}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.updataHttp()}}},[t._v("确 定")])],1)],1)],1)},s=[],n=(a(58),{data(){return{updataList:{},dialogVisible:!1,updateJudeg:!1,value:!0,content:"这是一个测试~",runSet:null,homeList:[],edtior:!1}},mounted(){this.dataListFn()},methods:{runBtn(){null==this.runSet&&(this.runSet=setInterval((()=>{var t=this.content.substring(0,1),e=this.content.substring(1);this.content=e+t}),1e3))},stopBtn(){console.log("ad"),this.runSet&&(clearInterval(this.runSet),this.runSet=null,this.content="这是一个测试")},handleClose(t){t(),this.updataList={}},dataListFn(){this.$api.nodeApi.informationListApi().then((t=>{t.data.length>=1&&(console.log(t.data),this.homeList=t.data)}))},changeSwitch(t){console.log(t.status)},closeDialog(){this.dialogVisible=!1,this.updataList={}},updataHttp(t){if(this.updataList.id){let e=this;async function a(){try{await e.$api.nodeApi.updateInformationApi(e.updataList);e.dataListFn(),e.dialogVisible=!1,this.updateJudeg=!1,e.$message({message:"修改成功",type:"success",duration:1e3})}catch(t){console.log(new Error)}}async function i(){try{await e.$api.nodeApi.addInformationApi(e.updataList);e.dataListFn(),e.dialogVisible=!1,e.$message({message:"添加成功",type:"success",duration:1e3})}catch(t){console.log(new Error)}}this.updateJudeg?a():i()}else this.$message({message:"失败",type:"success",duration:1e3})},updataFn(t){t&&(this.updataList=t,this.updateJudeg=!0),this.dialogVisible=!0},addHomeList(){async function t(){try{await this.$api.nodeApi.addInformationApi();this.$message({message:"添加成功",type:"success",duration:1e3}),this.dataListFn()}catch(t){this.$message({message:"添加失败",type:"warning",duration:1e3})}}t()},edtiorFn(t){var e=this.homeList.map((e=>{if(e.id===t){let a=this;async function i(t){try{let e={id:t};await a.$api.nodeApi.removeInformationApi(e);return a.edtior=!a.edtior,a.dataListFn(),!0}catch(e){return!1}}return i(e.id)}}));console.log(e),e?this.$message({message:"删除成功",type:"success",duration:1e3}):this.$message({message:"删除失败",type:"warning",duration:1e3})}}}),o=n,l=a(2349),r=(0,l.Z)(o,i,s,!1,null,"5b11ed56",null),u=r.exports}}]);
//# sourceMappingURL=38.d8d09537.js.map